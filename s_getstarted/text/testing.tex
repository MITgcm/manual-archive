% $Header: /u/gcmpack/manual/s_getstarted/text/testing.tex,v 1.4 2010/05/28 15:23:17 jmc Exp $
% $Name:  $

\section{Testing}
\label{sect:testing}
\label{www:testing}
\begin{rawhtml}
<!-- CMIREDIR:testing: -->
\end{rawhtml}

A script (\texttt{testreport}) for automated testing is included in
the model within the {\em verification} directory.  While intended
mostly for advanced users, the script can be helpful for beginners.

\subsection{Using \texttt{testreport}}

On many systems, the program can be run with the command:
\begin{verbatim}
% cd verification
% ./testreport
\end{verbatim}
which will do the following:
\begin{enumerate}
\item Locate all ``valid'' test directories.  Here, valid tests are
  defined to be those directories within the current directory (which
  is generally {\em verification}) that contain a subdirectory and
  file with the names {\em results/output.txt}.

\item Then within each valid test:
  \begin{enumerate}
  \item run \texttt{genmake2} to produce a {\em Makefile}
  \item build an executable
  \item run the executable
  \item compare and the output of the executable with the
    contents of certain variables within {\em
      TESTNAME/results/output.txt}
  \item print and, if requested (with the
    \texttt{-addr=EMAIL\_ADDRESS} option), send a MIME-encoded email
    with the testing results
  \end{enumerate}

\end{enumerate}

For further details, please see the MITgcm Developers' HOWTO at:
\begin{rawhtml} <A href=''http://mitgcm.org/public/docs.html'' target="idontexist"> \end{rawhtml}
\begin{verbatim}
http://mitgcm.org/public/docs.html
\end{verbatim}
\begin{rawhtml} </A> \end{rawhtml}


\subsection{Automated testing}

Automated testing results are produced on a regular basis and they can
be viewed at:
\begin{rawhtml} <A href=''http://mitgcm.org/public/testing.html'' target="idontexist"> \end{rawhtml}
\begin{verbatim}
http://mitgcm.org/public/testing.html
\end{verbatim}
\begin{rawhtml} </A> \end{rawhtml}
which also includes links to various scripts for batch job submission
on a variety of different machines.

