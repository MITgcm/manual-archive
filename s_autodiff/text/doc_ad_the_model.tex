% $Header: /u/gcmpack/manual/s_autodiff/text/doc_ad_the_model.tex,v 1.1.1.1 2001/08/08 16:16:26 adcroft Exp $
% $Name:  $

{\small
\begin{verbatim}
   **************
   the_model_main
   **************
   |
   |--- initialise_fixed
   |    |
   |   ...
   |    |--- packages_readparms
   |    |    |
   |    |   ...
   |    |    |--- #ifdef ALLOW_ADJOINT_RUN
   |    |    |           call cost_readparms
   |    |    |           call ctrl_readparms
   |    |    |    #endif
   |    |   ...
   |    |    o
   |   ...
   |    o
  ...
   |
   |--- #ifdef ALLOW_ADJOINT_RUN
   |           call ctrl_unpack
   |           call adthe_main_loop
   |           call ctrl_pack
   |    #else
   |           call the_main_loop
   |    #endif
   |
   |--- #ifdef ALLOW_GRADIENT_CHECK
   |           call grdchk_main
   |    #endif
  ...
   o
\end{verbatim}
}
